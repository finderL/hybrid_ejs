<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>JSBridge</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1, user-scalable=no"/>
    <style>

    </style>
</head>

<body>
<div>
    <h3>JSBridge 测试</h3>
</div>

<ul class="list">
    <li>
        <div>
            <button onclick="callAPI('epoint_bridge',1001,'openPage',{'data':{'PAGE_URL':'file:///android_asset/index.html','PAGE_TITLE':'自定义API测试页面','customAPIPath':'com.epoint.webloader.jsbridge.CustomBridgeImpl'}})">
                框架API openPage(打开的页面会注册自定义API)
            </button>
        </div>
    </li>
    <br/>
</ul>


<ul class="list">
    <li>
        <div>
            <button onclick="callAPI('custom_epoint_bridge',1002,'testMyAPI',{'message':'Hello JSBridge'})">
                自定义API testMyAPI
            </button>
        </div>
    </li>
    <br/>
</ul>

<ul class="list">
    <li>
        <div>
            <button onclick="callAPI('epoint_bridge',1003,'openLocal',{'localPageClassName':'com.epoint.mobileoa.actys.MOAAboutActivity'})">
                框架API openLocal(打开关于页面)
            </button>
        </div>
    </li>
    <br/>
</ul>

<ul class="list">
    <li>
        <div>
            <button onclick="callAPI('epoint_bridge',1004,'openPage',{'data':{'PAGE_URL':'http://app.epoint.com.cn/showcase.dcloud.rayapp/html/ejs/demo_ejs_api_v2.html','PAGE_TITLE':'测试自定义API'}})">
                框架API openPage(打开框架API showcase)
            </button>
        </div>
    </li>
    <br/>
</ul>


<label id="callbackmsg" ></label>

<a  href="http://218.4.136.114:8009/nnxmgl//frame/pages/attachstorageinfo/attachdown.jspx?attachGuid=e0c4d8b8-4789-401b-a477-297801402b7c">http://218.4.136.114:8009/nnxmgl//frame/pages/attachstorageinfo/attachdown.jspx?attachGuid=e0c4d8b8-4789-401b-a477-297801402b7c</a>
</body>

<script>
    function callAPI(API_Name ,callbackId,handlerName,data){
        var uri = "EpointJSBridge://"+API_Name+":"+callbackId+"/"+handlerName+"?"+JSON.stringify(data);
        window.prompt(uri, "");
    };

    var JSBridge = {
		_handleMessageFromNative: function(callback) {
		    document.getElementById("callbackmsg").innerHTML = JSON.stringify(callback);
            <!--alert(JSON.stringify(callback));-->
		}
	};

</script>
</html>
